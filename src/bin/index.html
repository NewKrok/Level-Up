<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8"/>
	<title>Level Up</title>
	<meta name="description" content="" />
	<script src="https://kit.fontawesome.com/8bba5946ab.js" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="asset/css/editor_dialog.min.css">
	<link rel="stylesheet" href="asset/css/form.min.css">
	<link rel="stylesheet" href="asset/css/main.min.css">
	<link rel="stylesheet" href="asset/css/lobby.min.css">
	<link rel="stylesheet" href="asset/css/editor.min.css">
	<link rel="stylesheet" href="asset/css/game.min.css">
	<script type='text/javascript' src='astar.js'></script>

	<script>
		// yeah I know...
		var totalSize = 17812307;
		var preloader;
		var preloaderLine;

		function preload(scriptUrl)
		{
			preloader = document.getElementById("lu_preloader");
			preloaderLine = document.getElementById("lu_preloader_line");
			preloaderLine.setAttribute("style","width:" + 0 + "%");

			var req = new XMLHttpRequest();

			req.addEventListener("progress", function(event)
			{
				var percentComplete = Math.min(Math.floor(event.loaded / totalSize * 100), 100);
				console.log(event.loaded);
				preloaderLine.setAttribute("style","width:" + percentComplete + "%");
			}, false);

			req.addEventListener("load", function(event)
			{
				var e = event.target;
				var s = document.createElement("script");
				s.innerHTML = e.responseText;
				document.documentElement.appendChild(s);

				setTimeout(function(){ preloader.parentNode.removeChild(preloader); }, 500);
			}, false);

			req.open("GET", scriptUrl);
			req.send();
		}

		window.onload = function() { preload("level-up.js"); };
	</script>
</head>
<body style="margin:0;padding:0">
	<canvas id="webgl" style="width:100%;height:100%"></canvas>
	<div id="native-ui"></div>
	<div id="lu_preloader">
		<div class="lu_preloader_block">
			<img src="asset/img/logo.png" />
			<div class="lu_preloader_back">
				<div id="lu_preloader_line"></div>
			</div>
		</div>
	</div>
</body>
</html>